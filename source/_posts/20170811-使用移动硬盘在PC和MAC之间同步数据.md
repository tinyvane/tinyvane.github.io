---
title: 使用移动硬盘在PC和MAC之间同步数据
categories: 
- 效率
tags: [mac, pc, 同步, WD]
date: 2017-08-11 00:07:25
urlname: use_WD_my_passport_to_sync_data_between_pc_and_mac
---

## 文章更新
1. 20170810-初次成文
2. 20180225-添加了Dropbox的内容

## 为什么会有这篇文章
最近单位发了一块西部数据的4T硬盘，发现自带的软件很好用，解决了困扰我很久的数据同步且需要加密的问题。

## 场景描述
1. 我家中拥有一台Windows 10的PC作为固定用机器，配置较好，硬盘和内存都很宽裕；整理出重要数据为700G左右；
2. 家中同时配备了一台DS216+II的群晖NAS作为数据备份和共享的中介，硬盘为2块4T硬盘；
3. 通常在上班时间，或者移动办公，使用一台MAC BOOK PRO作为日常OFFICE和简单的笔记汇总工作；硬盘只有128G的SSD；

## 需求描述
1. MBP硬盘很小，通常硬盘只能作为临时数据存储之用，如果要长期保存，捉襟见肘。因此，如何获取到家中PC上的1T常用数据，就是一个非常麻烦的问题。
2. 下班后，MBP里的数据，需要第一时间能够同步到家中的PC电脑上去，如果还使用移动硬盘来进行数据传输，就会显得很笨拙。需要一个省时且实时性高的软件来完成数据的同步。

## 不同数据同步方案描述
我一直在寻找免费的数据同步方案，没想到最终的结果，依然是商业方案。然而那是后话，先来描述一下，我使用过的同步数据方案。

### Resilio Sync
我使用过很多软件，比如RESILIO SYNC，原名BT SYNC，但是这个软件我使用了将近2年，实在对他的文件同步和删除机制搞不明白，比如，首先它会把删掉或者改动的文件，在同步目录的.sync目录下的Archive目录下保存一份备份，或者在文件名后面加上1或者2这样的后缀，以表示文件改动。但是，我个人对文件的修改有比较好的命名习惯，所以不是很依赖这种机制，另外一个让我最不能忍的问题就是，经常一些正常的文件，也会莫名其妙的被移动到Archive目录下，以至于我非常想编写个工具监控Archive目录下的改动，因为被不明原因移动到Archive目录下的文件，默认经过30天就会被永久删掉了，所以，我很担心一些文件万一没有注意到移动了位置，并且超过了30天，就会真心欲哭无泪了。

### Syncthing
还有一款软件叫Syncthing，和Resilio Sync相比，前者是开源的，后者是闭源软件，但是界面却相对简陋，并且必须通过命令行在后台启动，然后在浏览器里打开一个本地地址来管理同步功能。我试用的感觉就是，不同电脑之间的发现机制依然不够稳定，并且也存在同步过程中忽然丢失彼此连接的问题。所以这个方案，我用了几天之后也放弃了。

### CloudStation Drive
由于家中使用了群晖的NAS，CLOUD STATION就成了不得不接触的一个软件。这是目前我数据同步的辅助手段，因为有的时候，我会在家里，在PC和MAC两台电脑之间切换使用，所以目前使用这款软件作为即时同步的一个辅助手段。

### 云盘
我试用了DropBox，OneDrive和Google Drive，这三款软件，从速度上来说，在有翻墙工具加持的条件下，Dropbox是最好的，可以用满上传速度，OneDrive最差，Google Drive有点无语，因为它的安装程序默认是一个离线的简单安装包，还需要在开始正式安装的过程中下载完整资料，然而GOOGLE目前被墙的基本无法顺利下载。我是折腾了一下，通过COW+ShadowSocks全局翻墙才顺利安装，但是却无法使用它的`File Steam`功能，这个类似Dropbox的`Smart Sync`和OneDrive的`File on-demand`功能。这三个功能都是我非常中意的功能，但是，都是企业用户优先（甚至是独享）的功能。

这个功能是干什么的呢？简单来说，就是可以在本地看到全部的云盘文件结构和名称，但是占用字节全部为零，只有在你真正需要这个文件的时候，双击该文件图标，则云盘软件自动感知，帮助你将文件从云端下载到本地。这个功能，对于像MAC这种硬盘不大的系统来说，非常实用。目前最新的消息是，Windows Insider用户，可以免费体验OneDrive的`File on-demand`功能，但是目前MAC上的OneDrive并没有这个功能，所以呢？对于像我这种需要在MAC和PC之间同步数据的用户来说，然并卵！

### FreeFileSync
这个才是我目前大容量的同步的终极手段，并且配合它的另外一个兄弟软件，叫Real-time Sync，可以实现插入U盘或者移动硬盘的时候，就自动开启同步动作。所以很方便，主要是使用它的几种不同的同步方式，分别是 更新、镜像和双向，可以适用于不同的需求。

另外，一个非常好用的功能，是同步时候的文件过滤功能，比如很多时候，在MAC电脑上，经常会出现一些DS_Store这样的特定文件，所以这些文件并没有必要同步到移动硬盘或者PC上。

一些好用的过滤设置：

*. `*\.*`
*. `~\.*`
*. `\RECYCLER\`
*. `\RECYCLED\`
*. `*\desktop.ini`
*. `\System Volume Information\`
*. `\$Recycle.Bin\`
*. `*\thumbs.db`

尤其重要的是第一个，可以把所有MAC和LINUX上的点号开头的文件和文件夹全部过滤掉，因为这些文件，对PC来说并不是重要。还可以使用`*\~*`这样的规则，则可以忽略调漂浮号开头的文件，那些文件通常是PC这边软件的临时文件。

### 西部数据4T硬盘
该方案使用了West Digital（西部数据）的`My passport`这款移动硬盘，4T容量，之所以这个方案会很方便，主要得益于WD的软件，如`WD SECURITY`，这是一个专门可以给WD硬盘加密的软件，并且支持PC和MAC双平台。

软件安装之后，还可以设置当移动硬盘接上后，自动解密，而不用繁琐的多次输入密码，甚为贴心。

#### 如何选择分区格式
WD移动硬盘还有一款配套软件，叫WD DISCOVER，这个软件类似APP STORE，里面有一些WD硬盘的配套软件可以安装。比如，WD SECURITY就是在这个地方可以直接下载，而省去了从WD网站上下载的步骤。

#### 好用的配套软件
1. `WD DISCOVER`，这款软件类似`APP STORE`，里面包含着很多和西数移动硬盘配套的软件，有免费的也有收费的。
2. `WD UTILITY`，这款软件可以直接对西数移动硬盘进行擦除（格式化）操作，同时可以选择格式，如ExFAT, MAC OS HFS+以及NTFS，挺有意思的是，这个软件在PC上运行的时候，只提示EXFAT和NTFS，而在MAC上运行的时候，会提示EXFAT和MAC OS HFS+, 所以可以看出来，EXFAT是两个不同平台数据同步的必选格式。同时，UTILITY还可以检查西数移动硬盘的数据安全、设置硬盘自动休眠的时间（从10分钟到90分钟），甚至直接关闭硬盘休眠。另外一个挺有意思的功能，就是在`WD UTILITY`里面，还可以控制移动硬盘指示灯，不过我有点不理解谁会需要这个功能？如果关了指示灯，鬼知道硬盘到底有没有接上电脑呢？当然了，盘符自动出来也可以判断，我就是吐槽一下而已。

> 之前曾经考虑过单独使用NTFS或者MAC OS HFS+, 然后配合PARAGON的NTFS FOR MAC或者PARAGON HFS FOR WINDOWS。但是这个软件有个弊端，不能解锁BITLOCKER，或者不能解锁MAC VAULT，所以加密是个缺陷。说到了PARAGON，就不得不说M3 NTFS FOR MAC，这款软件和PARAGON的功能差不多，但是这家软件公司的另外一款软件叫M3 BITLOCKER LOADER，可以在MAC平台上解锁PC系统上的BITLOCKER加密分区。但是软件价格比较高，需要40美金左右，价格不菲。

### Dropbox
不得不说，Dropbox的免费方案，只有5G的容量，确实不够用，我选用了一年99刀的Professional方案，1T空间，配合SS，完美的同步速度，而且没有CloudStation Drive动不动的小问题（比如文件占用问题，比如文件角标无缘无故不显示的问题），价格虽然较高，但是非常完美的解决了问题。

## 最终的方案
花钱的Dropbox，免费的话，可以参考上面的的各种方案。

## 参考文章

1. [每天一个linux命令（35）：ln 命令](http://www.cnblogs.com/peida/archive/2012/12/11/2812294.html)